# 第一章-主要概念

系统编程三大基石: 系统调用, C库, C编译器

## 系统调用

本质上是用户与内核进行通讯的函数

## API和ABI

API定义了软件模块之间在源代码层交互的接口

ABI定义的是特定架构上两个或者多个软件之间的二进制接口

## 文件描述符

本质是一些非负整数(int类型), 每一个描述符都对应一个打开的文件, 被用于访问文件

三个标准描述符(unistd.h):
* STDIN_FILENO
* STDOUT_FILENO
* STDERR_FILENO

## inode(index node)

用于存储与其对应的文件的相关信息, 与文件名互为映射关系，不同分区有各自的inode序列


```shell
# 查看分区inode使用量
$ df -i

# 查看文件的inode号
$ ls -i

# 查看文件的inode信息
$ stat FILE
```

## 软硬链接

硬链接: 映射到同一inode的不同文件名

```shell
$ ln FILE1 FILE2
```

软链接: 存储了所指向文件的路径

```shell
# FILE1必须指明绝对路径
$ ln -s /../FILE1 FILE2
```

## 块设备

应用程序可以随机访问设备数据，程序可自行确定读取数据的位置. 而字符设备只能按字节顺序逐一访问

## 扇区和块

物理层面, 一个磁盘按层次分为: 磁盘组合 -> 单个磁盘 -> 某一盘面 -> 某一磁道 -> 某一扇区. 所以扇区为设备物理单位, 而块则是文件系统中最小的逻辑地址单元, 它是文件系统的抽象.
